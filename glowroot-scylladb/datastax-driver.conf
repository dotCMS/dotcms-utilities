# https://docs.datastax.com/en/developer/java-driver/4.17/manual/core/configuration/reference/
datastax-java-driver {
  advanced.protocol.version = V4
  basic.request {
    default-idempotence = true
    consistency = ONE
    serial-consistency = LOCAL_SERIAL
  }
  advanced.reconnection-policy.class = ConstantReconnectionPolicy
  advanced.reconnection-policy.base-delay = 1 second
  advanced.connection {
    pool {
      local.size = 16
      remote.size = 16
    }
    max-requests-per-connection = 32768
  }
  advanced.request.warn-if-set-keyspace = false
  advanced.throttler {
    class = RateLimitingRequestThrottler
    max-requests-per-second = 100000
    max-queue-size = 100000
    drain-interval = 1 milliseconds
  }
  advanced.timestamp-generator.class = ServerSideTimestampGenerator
  profiles {
    slow {
      basic.request.timeout = 300 seconds
    }
    collector {
      basic.request.timeout = 30 seconds
    }
    rollup {
      basic.request.timeout = 20 seconds
    }
    web {
      basic.request.timeout = 20 seconds
    }
  }
}
